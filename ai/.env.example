# =============================================================================
# Imgable AI Service - Environment Configuration
# =============================================================================
#
# Copy this file to .env and adjust values as needed.
# All values shown are defaults.
#
# =============================================================================

# Database connection
DATABASE_URL=postgres://imgable:imgable@db:5432/imgable

# Path to media files
MEDIA_PATH=./media

# =============================================================================
# PERFORMANCE
# =============================================================================

# CPU threads for ONNX (0 = auto)
AI_THREADS=0

# Delay between photos (ms)
AI_DELAY_MS=100

# Batch size
AI_BATCH_SIZE=1

# Docker resource limits
AI_CPU_LIMIT=0
AI_MEMORY_LIMIT=2G

# =============================================================================
# AUTO-START
# =============================================================================

# Start processing on service start
AI_AUTO_START=true

# Check for new photos interval (seconds, 0 = manual only)
AI_SCAN_INTERVAL=3600

# =============================================================================
# FACE DETECTION
# =============================================================================

AI_FACES_ENABLED=true
AI_FACES_MIN_CONFIDENCE=0.5
AI_FACES_MIN_SIZE=30
AI_FACES_MAX_PER_PHOTO=50

# =============================================================================
# FACE CLUSTERING
# =============================================================================

AI_CLUSTER_THRESHOLD=0.6
AI_CLUSTER_MIN_FACES=3
AI_CLUSTER_AUTO_MERGE=true

# =============================================================================
# TAGS (Objects & Scenes)
# =============================================================================

AI_TAGS_ENABLED=true
AI_TAGS_MIN_CONFIDENCE=0.15
AI_TAGS_MAX_PER_PHOTO=10

# =============================================================================
# OCR
# =============================================================================

AI_OCR_ENABLED=true
AI_OCR_MODE=auto
AI_OCR_MIN_CONFIDENCE=0.7
AI_OCR_UPDATE_TAKEN_AT=true

# =============================================================================
# MODELS
# =============================================================================

AI_MODEL_TTL=1800
AI_MODEL_PRELOAD=true

# =============================================================================
# LOGGING
# =============================================================================

AI_LOG_LEVEL=info
AI_LOG_EACH_PHOTO=false

# =============================================================================
# RETRY
# =============================================================================

AI_MAX_RETRIES=3
